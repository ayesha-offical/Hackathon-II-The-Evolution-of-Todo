# Todo In-Memory Python Console App

A professional, test-driven command-line todo application built with Python 3.13+. Create, list, complete, update, and delete tasks with a clean CLI interface powered by the Rich library.

**Version**: 1.0.0 | **Status**: Phase 1 Complete - Ready for Production

---

## Quick Start

### Prerequisites

- Python 3.13 or higher
- UV package manager
- Git (for version control)

### Installation

```bash
# Clone the repository
git clone <repo-url>
cd "Memory Python Console App"

# Install dependencies using UV
uv sync

# Verify installation
uv run python -m src.main --help
```

### Running the Application

```bash
# Start the CLI
uv run python -m src.main

# View help
uv run python -m src.main --help

# Run tests
uv run pytest tests/ -v

# Run tests with coverage report
uv run pytest tests/ --cov=src --cov-report=term-missing --cov-report=html
```

---

## Project Structure

```
.
├── .specify/                 # Spec-Kit Plus framework (SDD automation)
│   ├── memory/
│   │   └── constitution.md   # Project governance & principles (v1.1.0)
│   ├── templates/            # Spec, plan, task templates
│   └── scripts/bash/         # SDD automation scripts
├── specs/                    # All specification documents
│   └── phase-1/
│       ├── spec.md           # Feature specification
│       ├── plan.md           # Implementation plan
│       └── tasks.md          # Task breakdown with traceability
├── src/                      # Python source code
│   ├── __main__.py          # CLI entry point
│   ├── main.py              # Main application logic
│   ├── models.py            # Task model definitions
│   ├── cli.py               # CLI commands and handlers
│   └── storage.py           # In-memory storage implementation
├── tests/                    # Test files (pytest)
│   ├── test_models.py       # Unit tests for models
│   ├── test_storage.py      # Unit tests for storage
│   ├── test_cli.py          # Integration tests for CLI
│   └── test_acceptance.py   # Acceptance criteria tests
├── history/                 # Prompt History Records (SDD artifact tracking)
│   └── prompts/            # PHR files for specification/planning decisions
├── pyproject.toml          # UV project configuration
├── uv.lock                 # Locked dependencies (auto-generated by UV)
├── CLAUDE.md               # Claude Code workflow & conventions
├── README.md               # This file
└── .gitignore              # Git ignore rules
```

---

## Features (Phase 1)

Phase 1 implements the **Basic Level** feature set:

1. **Add Task** — Create new tasks with title and optional description
2. **View Task List** — Display all tasks with status (pending/completed)
3. **Update Task** — Modify task title or description
4. **Mark as Complete** — Toggle task completion status
5. **Delete Task** — Remove tasks from the list

All features are accessed via the command-line interface (CLI).

---

## Architecture & Design

### Technology Stack

- **Language**: Python 3.13+
- **Package Manager**: UV (deterministic, fast dependency resolution)
- **Testing**: pytest + pytest-cov (80% minimum coverage required)
- **CLI Framework**: TBD (pre-approved: `rich` for formatting)
- **Data Storage**: In-memory only (Phase 1)

### Core Design Principles

See `.specify/memory/constitution.md` (v1.1.0) for full governance details:

- **SDD (Spec-Driven Development)**: Specifications → Plans → Tasks → Implementation
- **Zero Manual Coding**: All code generated by Claude Code based on approved specifications
- **Traceability**: All code must reference Task IDs (e.g., `[T-001]`)
- **In-Memory Storage**: No persistence (Phase 1 MVP focus)
- **Test-First Discipline**: Red-Green-Refactor; 80% minimum code coverage
- **Clean Code**: PEP 8 compliance, type hints required, descriptive naming

---

## Development Workflow

### 1. Specification Phase

Features start as specifications in `specs/phase-1/spec.md`:

```
User Scenarios → Requirements → Success Criteria → Acceptance Tests
```

**File**: `specs/phase-1/spec.md`

### 2. Planning Phase

Specifications are analyzed to create implementation plans:

```
Technical Context → Project Structure → Architecture Decisions
```

**File**: `specs/phase-1/plan.md`

### 3. Task Generation Phase

Plans are broken into granular, independently-testable tasks:

```
Task IDs (T-001, T-002, ...) → User Stories → Implementation Steps
```

**File**: `specs/phase-1/tasks.md`

### 4. Implementation Phase

Claude Code implements each task, referencing its Task ID:

```python
# [T-001] - Spec section: FR-001 (Task model with ID generation)
class Task:
    """Task model with auto-generated UUID."""
    def __init__(self, title: str, description: str = ""):
        pass
```

**Output**: Code commits with Task ID references

---

## Git Commit Conventions

**All commits MUST follow this format** (per Constitution Principle VIII):

```
[T-###] Brief description of change

Optional detailed explanation of what was implemented and why.
References to specification sections or acceptance criteria.
```

### Example Commits

```
[T-001] Implement Task model with ID generation and timestamps

Adds Task class to src/models.py with required attributes:
- id (auto-generated UUID)
- title (string, required)
- description (string, optional)
- completed (boolean, default False)
- created_at, updated_at (ISO timestamps)

Satisfies spec requirement FR-001: System MUST support task creation with metadata.
Tests passing: test_task_creation, test_task_validation (80% coverage maintained)
```

```
[T-002] Implement in-memory storage and task listing

Adds TaskStorage class to src/storage.py:
- store_task(): Add task to in-memory list
- list_tasks(): Return all tasks with status
- get_task(id): Retrieve specific task

Satisfies FR-002 and FR-003.
Tests: test_storage.py (integration tests)
```

**Task ID Format**: T-001, T-002, T-003, ... (matches IDs in `specs/phase-1/tasks.md`)

---

## Code Quality Requirements

All code must meet these standards **before commit**:

- ✅ **All tests PASS** (`uv run pytest tests/ -v`)
- ✅ **Minimum 80% code coverage** (`uv run pytest tests/ --cov=src`)
- ✅ **PEP 8 compliance** (linting recommended)
- ✅ **Type hints on all function signatures**
- ✅ **Error handling for edge cases** (no silent failures)
- ✅ **Task ID references in code comments** (Principle XIII)
- ✅ **Documentation comments match implementation**

### Running Quality Checks

```bash
# Run all tests with coverage
uv run pytest tests/ --cov=src --cov-report=term-missing

# Generate HTML coverage report
uv run pytest tests/ --cov=src --cov-report=html
# Open: htmlcov/index.html

# View coverage summary
uv run pytest tests/ --cov=src --cov-report=term
```

---

## Dependencies

### Pre-Approved Libraries (Phase 1)

These libraries are approved for use without specification amendments:

- **rich** — CLI formatting, tables, progress bars, colored output
- **pytest** — Testing framework
- **pytest-cov** — Code coverage measurement

### Adding New Dependencies

New dependencies require:
1. **Justification**: Why pre-approved alternatives are insufficient
2. **Specification Amendment**: Must be added to `specs/phase-1/spec.md`
3. **Installation**: Use UV only (`uv add <package>`)

```bash
# Example: Adding a new dependency
uv add requests  # Adds to pyproject.toml and updates uv.lock
```

---

## Testing Strategy

### Test Organization

```
tests/
├── test_models.py         # Unit tests for Task model
├── test_storage.py        # Unit tests for storage layer
├── test_cli.py            # Integration tests for CLI commands
└── test_acceptance.py     # Acceptance criteria validation
```

### Running Tests

```bash
# Run all tests
uv run pytest tests/ -v

# Run specific test file
uv run pytest tests/test_models.py -v

# Run tests matching a pattern
uv run pytest tests/ -k "test_create" -v

# Run with coverage
uv run pytest tests/ --cov=src --cov-report=term-missing
```

### Coverage Requirements

- **Target**: Minimum 80% code coverage
- **Measurement**: `pytest-cov` plugin
- **Requirement**: All acceptance criteria must have test cases
- **TDD Discipline**: Tests written first (RED), then implementation (GREEN)

---

## Claude Code Integration

See `CLAUDE.md` for detailed instructions on:
- How Claude Code interacts with this project
- Workflow for generating specifications, plans, tasks
- How to invoke SDD commands (`/sp.specify`, `/sp.plan`, `/sp.tasks`, `/sp.implement`)
- Traceability and code generation expectations

---

## Phase 1 Scope & Constraints

### Scope (5 Features)

✅ Add Task
✅ Delete Task
✅ Update Task
✅ View Task List
✅ Mark as Complete

### Constraints

- **Must use**: Python 3.13+, UV package manager
- **Must be**: In-memory storage only (no database/files)
- **Must follow**: Spec-Driven Development methodology
- **Must enforce**: 80% code coverage, zero manual coding

### Non-Goals (Phase 2+)

- Database persistence
- Web frontend
- User authentication
- Intermediate/Advanced features
- Multi-user support
- Performance optimization

---

## Contributing

All development follows the Spec-Driven Development workflow:

1. **Specification Amendment** → Update `specs/phase-1/spec.md`
2. **Plan Amendment** → Update `specs/phase-1/plan.md`
3. **Task Generation** → Update `specs/phase-1/tasks.md` with new tasks
4. **Implementation** → Generate code via Claude Code, referencing Task IDs
5. **Git Commit** → Use format `[T-###] Description`

**Important**: Manual code editing is forbidden during Phase 1. All code must be generated by Claude Code based on approved tasks.

---

## Commands Reference

All features are accessed via simple CLI commands. Type `help` in the app to see this list, or `help <command>` for detailed help.

### `add <title> [description]`

Create a new task with a title (required) and optional description.

**Syntax:**
```
add <title> [description]
```

**Examples:**
```
add Buy groceries
add Buy groceries Milk, eggs, bread
add Write report Due Friday
```

**Behavior:**
- Title is required and cannot be empty or whitespace-only
- Description is optional
- Returns unique task ID for later reference
- Updates are timestamped automatically

**Errors:**
- `Error: Task title cannot be empty` — when title is empty or whitespace

---

### `list`

Display all tasks in a formatted table with status indicators.

**Syntax:**
```
list
```

**Output Example:**
```
┏━━━━━━━━┳━━━━━━━━━━┳──────────────┳─────────────────────┓
┃ ID     ┃ Status   ┃ Title        ┃ Description         ┃
┡━━━━━━━━╇━━━━━━━━━━╇──────────────╇─────────────────────┩
│ abc123 │ ☐ Pending│ Buy groceries│ Milk, eggs, bread   │
│ def456 │ ✓ Complete│ Pay bills    │ -                  │
│ ghi789 │ ☐ Pending│ Clean house  │ ASAP               │
└────────┴──────────┴──────────────┴─────────────────────┘
Total: 3 task(s)
```

**Features:**
- **ID**: First 6 characters of task ID (full UUID)
- **Status**: ✓ Complete (done) or ☐ Pending (not done)
- **Title**: Task title (truncated if too long)
- **Description**: Task description or "-" if empty
- Shows total count at the bottom
- Tasks listed in creation order
- Empty list shows "No tasks yet"

---

### `complete <task_id>`

Toggle a task's completion status. Incomplete tasks become complete, and vice versa.

**Syntax:**
```
complete <task_id>
```

**Examples:**
```
complete abc123d8
complete ghi789fa
```

**Behavior:**
- Incomplete tasks become complete (marked with ✓)
- Complete tasks become incomplete (marked with ☐)
- Timestamps are updated when status changes
- Works on all tasks regardless of current status

**Errors:**
- `Error: Task ID is required` — when no ID provided
- `Error: Task '<id>' not found` — when ID doesn't exist

---

### `update <task_id> <new_title> [new_description]`

Update a task's title and/or description.

**Syntax:**
```
update <task_id> <new_title> [new_description]
```

**Examples:**
```
update abc123d8 Buy groceries and milk
update abc123d8 Clean house ASAP
update ghi789fa Shopping Milk, eggs, bread, butter
```

**Behavior:**
- Title is required (cannot be empty)
- If only title provided: description stays unchanged
- If title and description provided: both are updated
- Timestamps are updated when changes are made
- Completion status is preserved
- Works on both incomplete and complete tasks

**Errors:**
- `Error: Task ID is required` — when no ID provided
- `Error: Task title cannot be empty` — when title is empty
- `Error: Task '<id>' not found` — when ID doesn't exist

---

### `delete <task_id>`

Permanently remove a task from the list.

**Syntax:**
```
delete <task_id>
```

**Examples:**
```
delete abc123d8
delete ghi789fa
```

**Behavior:**
- Deletes task permanently (cannot be undone)
- Other tasks remain completely unaffected
- Task IDs are unique and never reused
- Works on both incomplete and complete tasks

**Errors:**
- `Error: Task ID is required` — when no ID provided
- `Error: Task '<id>' not found` — when ID doesn't exist

---

### `help [command]`

Show help for available commands.

**Syntax:**
```
help [command]
```

**Examples:**
```
help                    # Show all commands
help add               # Show detailed help for 'add'
help complete          # Show detailed help for 'complete'
```

**Output:**
- Without argument: lists all commands with brief descriptions
- With command: shows detailed help including syntax and examples

---

### `exit` / `quit`

Exit the application.

**Syntax:**
```
exit
quit
```

## Input Validation & Error Handling

The app provides clear error messages for invalid input:

| Command | Error | Solution |
|---------|-------|----------|
| `add` | "Task title cannot be empty" | Provide a non-empty title |
| `complete` | "Task ID is required" | Use: `complete <task_id>` |
| `complete` | "Task '<id>' not found" | Use `list` to see valid IDs |
| `update` | "Task ID is required" | Use: `update <task_id> <title>` |
| `update` | "Task title cannot be empty" | Provide a non-empty new title |
| `delete` | "Task ID is required" | Use: `delete <task_id>` |
| `delete` | "Task '<id>' not found" | Use `list` to see valid IDs |
| Unknown | "Error: Unknown command '<cmd>'" | Type `help` for valid commands |

---

## Support & Questions

For questions about:
- **Workflow**: See `CLAUDE.md`
- **Governance**: See `.specify/memory/constitution.md`
- **Specifications**: See `specs/phase-1/`
- **Setup Issues**: Check installation prerequisites above

---

## License

[License information - TBD]

---

## Version History

- **v1.0.0** (2026-01-06) — Phase 1 MVP released
  - 5 basic features implemented
  - SDD workflow documented
  - 80% code coverage achieved
  - Constitution v1.1.0 with traceability principles

